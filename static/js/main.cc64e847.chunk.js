(this["webpackJsonpgoit-react14-hw-03-bank-account"]=this["webpackJsonpgoit-react14-hw-03-bank-account"]||[]).push([[0],{104:function(t,e){},106:function(t,e){},141:function(t,e){},142:function(t,e){},190:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),o=a(22),l=a.n(o),i=a(46),c=a(84),s=a(85),u=a(90),d=a(86),h=a(91),m=a(6),p=a.n(m),b=function(t){var e=t.onInputChange,a=t.deposit,n=t.withdraw,o=t.resetForm,l=t.clearHistory;return r.a.createElement("section",{className:p.a.controls},r.a.createElement("input",{type:"number",className:p.a.input,onChange:e,value:o}),r.a.createElement("button",{type:"submit",className:p.a.button,name:"deposit",onClick:a},"Deposit"),r.a.createElement("button",{type:"button",className:p.a.button,name:"withdraw",onClick:n},"Withdraw"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:p.a.button,name:"clearHistory",onClick:l},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")))},y=function(t){var e=t.balance,a=t.deposit,n=t.withdraw;return r.a.createElement("section",{className:p.a.balance},r.a.createElement("span",{className:p.a.deposite},"\u2b06 ",a,"$"),r.a.createElement("span",{className:p.a.withdraw},"\u2b07 ",n,"$"),r.a.createElement("span",null,"Balance: ",e,"$"))},w=function(t){var e=t.history,a=void 0===e?[]:e;return r.a.createElement("div",null,r.a.createElement("table",{className:p.a.history},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Transaction"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.amount,"$"),r.a.createElement("td",null,t.date))})))))},f=a(87),E=a.n(f),v={setBankHistory:function(t){localStorage.setItem("bankHistory",JSON.stringify(t))},getBankHistory:function(){return JSON.parse(localStorage.getItem("bankHistory"))},clearLS:function(){localStorage.clear()}},k=a(29),_=(a(185),v.getBankHistory()),I=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(u.a)(this,Object(d.a)(e).call(this))).noMoney=function(){return Object(k.b)("\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",{autoClose:5e3})},t.unCorrectInput=function(){return Object(k.b)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",{autoClose:5e3})},t.handleInput=function(e){e.preventDefault(),t.setState({valueInput:Number(e.target.value)})},t.createNewOperation=function(e){var a=(new Date).toLocaleString();return{id:E.a.generate(),type:e,amount:t.state.valueInput,date:a}},t.handleClearHistory=function(){v.clearLS(),t.setState({history:[],balance:0,deposit:0,withdraw:0})},t.handleCkickDeposit=function(){if(t.state.valueInput>0){var e=t.createNewOperation("Deposit");t.setState((function(t){return{history:[e].concat(Object(i.a)(t.history)),deposit:t.deposit+=Number(e.amount),balance:t.balance+=Number(e.amount),valueInput:""}}))}else t.setState({valueInput:""}),t.unCorrectInput()},t.handleCkickWithdraw=function(){if(t.state.valueInput>0){var e=t.createNewOperation("Withdraw");t.setState((function(a){if(t.state.balance>=t.state.valueInput)return{balance:a.balance-=Number(e.amount),history:[e].concat(Object(i.a)(a.history)),withdraw:a.withdraw+=Number(e.amount),valueInput:""};t.noMoney()}))}else t.unCorrectInput()},t.state={history:[],balance:0,deposit:0,withdraw:0,valueInput:""},t}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){_&&this.setState({history:_.history,balance:_.balance,deposit:_.deposit,withdraw:_.withdraw})}},{key:"componentDidUpdate",value:function(t,e){e.history!==this.state.history&&v.setBankHistory(this.state)}},{key:"render",value:function(){var t=this.state,e=t.history,a=t.balance,n=t.deposit,o=t.withdraw,l=t.valueInput;return r.a.createElement("div",{className:p.a.dashboard},r.a.createElement(b,{onInputChange:this.handleInput,deposit:this.handleCkickDeposit,withdraw:this.handleCkickWithdraw,resetForm:l,clearHistory:this.handleClearHistory}),r.a.createElement(k.a,null),r.a.createElement(y,{balance:a,deposit:n,withdraw:o}),r.a.createElement(w,{history:e}))}}]),e}(r.a.Component),N=function(){return r.a.createElement("div",null,r.a.createElement(I,null))};l.a.render(r.a.createElement(N,null),document.getElementById("root"))},6:function(t,e,a){t.exports={dashboard:"style_dashboard__OFfMX",controls:"style_controls__1BVW8",button:"style_button__28xCk",input:"style_input__1yas-",balance:"style_balance__2pdXV",deposite:"style_deposite__qVRPf",withdraw:"style_withdraw__1StI0",history:"style_history__2YEMT"}},92:function(t,e,a){t.exports=a(190)}},[[92,1,2]]]);
//# sourceMappingURL=main.cc64e847.chunk.js.map