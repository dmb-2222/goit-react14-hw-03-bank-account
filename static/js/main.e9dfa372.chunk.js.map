{"version":3,"sources":["components/bank/Controls/Controls.jsx","components/bank/Balance/Balance.jsx","components/bank/TransactionHistory/TransactionHistory.jsx","components/bank/services/Ls/Ls.jsx","components/bank/Dashboard/Dashboard.jsx","App.js","index.js","components/bank/Controls/Controls.module.css","components/bank/Balance/Balance.module.css","components/bank/TransactionHistory/TransactionHistory.module.css","components/bank/Dashboard/Dashboard.module.css"],"names":["Controls","state","value","handleInput","e","setState","target","hadleDeposit","name","props","resetForm","this","className","style","controls","onSubmit","evt","preventDefault","type","input","onChange","button","onClick","React","Component","Balance","balance","history","deposit","filter","el","reduce","acc","Number","amount","withdraw","deposite","TransactionHistory","map","item","key","id","date","LsBankHistory","setBankHistory","arrHistory","localStorage","setItem","JSON","stringify","getBankHistory","parse","getItem","clearLS","clear","prevTransactions","Dashboard","noMoney","toast","autoClose","unCorrectInput","createNewOperation","typeOperation","valueInput","dateOperation","Date","toLocaleString","shortid","generate","handleCkickDeposit","operation","prevState","handleCkickWithdraw","prevProps","dashboard","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.e9dfa372.chunk.js","sourcesContent":["import React from \"react\";\nimport style from \"./Controls.module.css\";\nimport propTypes from \"prop-types\";\n\nclass Controls extends React.Component {\n  state = { value: \"\" };\n\n  handleInput = e => {\n    this.setState({ value: +e.target.value });\n  };\n  hadleDeposit = ({ target: { name } }) => {\n    this.props[name](this.state.value, name);\n    this.resetForm()\n  };\n  resetForm = () => {\n    this.setState({ value: \"\" });\n  };\n  render() {\n    const { value } = this.state;\n    return (\n      <section className={style.controls}>\n        <form onSubmit={evt => evt.preventDefault()}>\n          <input\n            type=\"number\"\n            className={style.input}\n            onChange={this.handleInput}\n            value={value}\n          />\n          <button\n            type=\"submit\"\n            className={style.button}\n            name=\"deposit\"\n            onClick={this.hadleDeposit}\n          >\n            Deposit\n          </button>\n          <button\n            type=\"submit\"\n            className={style.button}\n            name=\"withdraw\"\n            onClick={this.hadleDeposit}\n          >\n            Withdraw\n          </button>\n        </form>\n      </section>\n    );\n  }\n}\nexport default Controls;\n\nControls.propTypes = {\n  onInputChange: propTypes.func,\n  deposit: propTypes.func,\n  withdraw: propTypes.func,\n  resetForm: propTypes.string\n};\n","import React from \"react\";\nimport propTypes from \"prop-types\";\nimport style from \"./Balance.module.css\";\n\nconst Balance = ({ balance, history }) => {\n  const deposit = history\n    .filter(el => el.type === \"deposit\")\n    .reduce((acc, el) => acc + Number(el.amount), 0);\n  const withdraw = history\n    .filter(el => el.type === \"withdraw\")\n    .reduce((acc, el) => acc + Number(el.amount), 0);\n  return (\n    <section className={style.balance}>\n      <span className={style.deposite}>⬆ {deposit}$</span>\n      <span className={style.withdraw}>⬇ {withdraw}$</span>\n      <span>Balance: {balance}$</span>\n    </section>\n  );\n};\n\nexport default Balance;\n\nBalance.propTypes = {\n  balance: propTypes.number,\n  withdraw: propTypes.number\n};\n","import React from \"react\";\nimport style from \"./TransactionHistory.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst TransactionHistory = ({ history = [] }) => {\n  return (\n    <table className={style.history}>\n      <thead>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        {history.map(item => (\n          <tr key={item.id}>\n            <td>{item.type}</td>\n            <td>{item.amount}$</td>\n            <td>{item.date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\nexport default TransactionHistory;\n\nTransactionHistory.propTypes = {\n  history: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","const LsBankHistory = {\r\n  setBankHistory(arrHistory) {\r\n    localStorage.setItem(\"bankHistory\", JSON.stringify(arrHistory));\r\n  },\r\n  getBankHistory() {\r\n    return JSON.parse(localStorage.getItem(\"bankHistory\"));\r\n  },\r\n  clearLS() {\r\n    localStorage.clear();\r\n  }\r\n};\r\nexport default LsBankHistory;\r\n","import React from \"react\";\nimport Controls from \"../Controls/Controls\";\nimport Balance from \"../Balance/Balance\";\nimport TransactionHistory from \"../TransactionHistory/TransactionHistory\";\nimport shortid from \"short-id\";\nimport style from \"./Dashboard.module.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport LsBankHistory from \"../services/Ls/Ls\";\n\nconst prevTransactions = LsBankHistory.getBankHistory();\n\nclass Dashboard extends React.Component {\n  state = {\n    history: [],\n    balance: 0\n  };\n\n  noMoney = () =>\n    toast(\"На счету недостаточно средств для проведения операции!\", {\n      autoClose: 5000\n    });\n  unCorrectInput = () =>\n    toast(\"Введите сумму для проведения операции!\", { autoClose: 5000 });\n\n  componentDidMount() {\n    if (prevTransactions) {\n      this.setState({\n        history: prevTransactions.history,\n        balance: prevTransactions.balance,\n        deposit: prevTransactions.deposit,\n        withdraw: prevTransactions.withdraw\n      });\n    }\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.history !== this.state.history) {\n      LsBankHistory.setBankHistory(this.state);\n    }\n  }\n  createNewOperation = (typeOperation, valueInput) => {\n    const dateOperation = new Date().toLocaleString();\n    return {\n      id: shortid.generate(),\n      type: typeOperation,\n      amount: valueInput,\n      date: dateOperation\n    };\n  };\n\n  handleCkickDeposit = (valueInput, name) => {\n    if (valueInput > 0) {\n      const operation = this.createNewOperation(name, valueInput);\n      this.setState(prevState => {\n        return {\n          history: [operation, ...prevState.history],\n          balance: (prevState.balance += Number(operation.amount))\n        };\n      });\n    } else {\n      this.unCorrectInput();\n    }\n  };\n\n  handleCkickWithdraw = (valueInput, name) => {\n    if (valueInput > 0) {\n      const operation = this.createNewOperation(name, valueInput);\n      this.setState(prevState => {\n        if (this.state.balance >= valueInput) {\n          return {\n            balance: (prevState.balance -= Number(operation.amount)),\n            history: [operation, ...prevState.history]\n          };\n        }\n        return this.noMoney();\n      });\n    } else {\n      this.unCorrectInput();\n    }\n  };\n\n  render() {\n    const { history, balance } = this.state;\n    return (\n      <div className={style.dashboard}>\n        <Controls\n          deposit={this.handleCkickDeposit}\n          withdraw={this.handleCkickWithdraw}\n        />\n        <ToastContainer />\n        <Balance balance={balance} history={history}/>\n        <TransactionHistory history={history} />\n      </div>\n    );\n  }\n}\nexport default Dashboard;\n","import React from \"react\";\nimport Dashboard from \"./components/bank/Dashboard/Dashboard\";\nconst App = () => <Dashboard />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__Qiv2m\",\"button\":\"Controls_button__71hZR\",\"input\":\"Controls_input__3ATxJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__pjz2f\",\"deposite\":\"Balance_deposite__1_6vQ\",\"withdraw\":\"Balance_withdraw__2EcOR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__1nvyg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__26muD\"};"],"sourceRoot":""}